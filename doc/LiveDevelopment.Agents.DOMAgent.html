<!DOCTYPE html>
<html lang="en">
<head>
    <title>LiveDevelopment.Agents.DOMAgent</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../assets/js/jquery-1.7.js"></script>
    <script type="text/javascript" src="../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../assets/js/main.js"></script>
</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="brand" href="./index.html">Brackets API</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a href="#dependencies">Dependencies</a></li>
                    <li><a href="#variables">Variables</a></li>
                    <li><a href="#functions">Functions</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span12">
            <div class="page-header">
                <h1>LiveDevelopment.Agents.DOMAgent</h1>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="span3">
            <div class="left-section">
                <ul class="nav nav-list">
                    <li class="nav-header">
                        <a href="#" id="toggle-other-modules"><i class="icon-folder-close"></i> Modules (109)</a>
                    </li>
                </ul>
                <ul id="other-module" class="nav nav-list">
                    <li><a href="brackets.html">brackets</a></li>
                    <li><a href="command.CommandManager.html">command.CommandManager</a></li>
                    <li><a href="command.Commands.html">command.Commands</a></li>
                    <li><a href="command.KeyBindingManager.html">command.KeyBindingManager</a></li>
                    <li><a href="command.Menus.html">command.Menus</a></li>
                    <li><a href="debug.DebugCommandHandlers.html">debug.DebugCommandHandlers</a></li>
                    <li><a href="document.ChangedDocumentTracker.html">document.ChangedDocumentTracker</a></li>
                    <li><a href="document.DocumentCommandHandlers.html">document.DocumentCommandHandlers</a></li>
                    <li><a href="document.DocumentManager.html">document.DocumentManager</a></li>
                    <li><a href="document.TextRange.html">document.TextRange</a></li>
                    <li><a href="editor.CodeHintList.html">editor.CodeHintList</a></li>
                    <li><a href="editor.CodeHintManager.html">editor.CodeHintManager</a></li>
                    <li><a href="editor.CSSInlineEditor.html">editor.CSSInlineEditor</a></li>
                    <li><a href="editor.Editor.html">editor.Editor</a></li>
                    <li><a href="editor.EditorCommandHandlers.html">editor.EditorCommandHandlers</a></li>
                    <li><a href="editor.EditorManager.html">editor.EditorManager</a></li>
                    <li><a href="editor.EditorUtils.html">editor.EditorUtils</a></li>
                    <li><a href="editor.InlineTextEditor.html">editor.InlineTextEditor</a></li>
                    <li><a href="editor.InlineWidget.html">editor.InlineWidget</a></li>
                    <li><a href="editor.MultiRangeInlineEditor.html">editor.MultiRangeInlineEditor</a></li>
                    <li><a href="file.FileUtils.html">file.FileUtils</a></li>
                    <li><a href="file.NativeFileError.html">file.NativeFileError</a></li>
                    <li><a href="file.NativeFileSystem.html">file.NativeFileSystem</a></li>
                    <li><a href="help.HelpCommandHandlers.html">help.HelpCommandHandlers</a></li>
                    <li><a href="language.CSSUtils.html">language.CSSUtils</a></li>
                    <li><a href="language.HTMLUtils.html">language.HTMLUtils</a></li>
                    <li><a href="language.JSLintUtils.html">language.JSLintUtils</a></li>
                    <li><a href="language.JSUtils.html">language.JSUtils</a></li>
                    <li><a href="LiveDevelopment.Agents.ConsoleAgent.html">LiveDevelopment.Agents.ConsoleAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.CSSAgent.html">LiveDevelopment.Agents.CSSAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMAgent.html">LiveDevelopment.Agents.DOMAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMHelpers.html">LiveDevelopment.Agents.DOMHelpers</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMNode.html">LiveDevelopment.Agents.DOMNode</a></li>
                    <li><a href="LiveDevelopment.Agents.EditAgent.html">LiveDevelopment.Agents.EditAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.GotoAgent.html">LiveDevelopment.Agents.GotoAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.HighlightAgent.html">LiveDevelopment.Agents.HighlightAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.NetworkAgent.html">LiveDevelopment.Agents.NetworkAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.RemoteAgent.html">LiveDevelopment.Agents.RemoteAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.RemoteFunctions.html">LiveDevelopment.Agents.RemoteFunctions</a></li>
                    <li><a href="LiveDevelopment.Agents.ScriptAgent.html">LiveDevelopment.Agents.ScriptAgent</a></li>
                    <li><a href="LiveDevelopment.Documents.CSSDocument.html">LiveDevelopment.Documents.CSSDocument</a></li>
                    <li><a href="LiveDevelopment.Documents.HTMLDocument.html">LiveDevelopment.Documents.HTMLDocument</a></li>
                    <li><a href="LiveDevelopment.Documents.JSDocument.html">LiveDevelopment.Documents.JSDocument</a></li>
                    <li><a href="LiveDevelopment.Inspector.Inspector.html">LiveDevelopment.Inspector.Inspector</a></li>
                    <li><a href="LiveDevelopment.LiveDevelopment.html">LiveDevelopment.LiveDevelopment</a></li>
                    <li><a href="LiveDevelopment.main.html">LiveDevelopment.main</a></li>
                    <li><a href="nls.de.strings.html">nls.de.strings</a></li>
                    <li><a href="nls.de.urls.html">nls.de.urls</a></li>
                    <li><a href="nls.es.strings.html">nls.es.strings</a></li>
                    <li><a href="nls.es.urls.html">nls.es.urls</a></li>
                    <li><a href="nls.fr.strings.html">nls.fr.strings</a></li>
                    <li><a href="nls.fr.urls.html">nls.fr.urls</a></li>
                    <li><a href="nls.it.strings.html">nls.it.strings</a></li>
                    <li><a href="nls.it.urls.html">nls.it.urls</a></li>
                    <li><a href="nls.ja.strings.html">nls.ja.strings</a></li>
                    <li><a href="nls.nb.strings.html">nls.nb.strings</a></li>
                    <li><a href="nls.pt-br.strings.html">nls.pt-br.strings</a></li>
                    <li><a href="nls.pt-br.urls.html">nls.pt-br.urls</a></li>
                    <li><a href="nls.root.strings.html">nls.root.strings</a></li>
                    <li><a href="nls.root.urls.html">nls.root.urls</a></li>
                    <li><a href="nls.ru.strings.html">nls.ru.strings</a></li>
                    <li><a href="nls.ru.urls.html">nls.ru.urls</a></li>
                    <li><a href="nls.strings.html">nls.strings</a></li>
                    <li><a href="nls.tr.strings.html">nls.tr.strings</a></li>
                    <li><a href="nls.urls.html">nls.urls</a></li>
                    <li><a href="preferences.PreferencesDialogs.html">preferences.PreferencesDialogs</a></li>
                    <li><a href="preferences.PreferencesManager.html">preferences.PreferencesManager</a></li>
                    <li><a href="preferences.PreferenceStorage.html">preferences.PreferenceStorage</a></li>
                    <li><a href="project.FileIndexManager.html">project.FileIndexManager</a></li>
                    <li><a href="project.FileSyncManager.html">project.FileSyncManager</a></li>
                    <li><a href="project.FileViewController.html">project.FileViewController</a></li>
                    <li><a href="project.ProjectManager.html">project.ProjectManager</a></li>
                    <li><a href="project.SidebarView.html">project.SidebarView</a></li>
                    <li><a href="project.WorkingSetSort.html">project.WorkingSetSort</a></li>
                    <li><a href="project.WorkingSetView.html">project.WorkingSetView</a></li>
                    <li><a href="search.FindInFiles.html">search.FindInFiles</a></li>
                    <li><a href="search.FindReplace.html">search.FindReplace</a></li>
                    <li><a href="search.QuickOpen.html">search.QuickOpen</a></li>
                    <li><a href="strings.html">strings</a></li>
                    <li><a href="utils.AppInit.html">utils.AppInit</a></li>
                    <li><a href="utils.Async.html">utils.Async</a></li>
                    <li><a href="utils.BuildInfoUtils.html">utils.BuildInfoUtils</a></li>
                    <li><a href="utils.CollectionUtils.html">utils.CollectionUtils</a></li>
                    <li><a href="utils.ExtensionLoader.html">utils.ExtensionLoader</a></li>
                    <li><a href="utils.ExtensionUtils.html">utils.ExtensionUtils</a></li>
                    <li><a href="utils.Global.html">utils.Global</a></li>
                    <li><a href="utils.KeyEvent.html">utils.KeyEvent</a></li>
                    <li><a href="utils.NativeApp.html">utils.NativeApp</a></li>
                    <li><a href="utils.PerfUtils.html">utils.PerfUtils</a></li>
                    <li><a href="utils.Resizer.html">utils.Resizer</a></li>
                    <li><a href="utils.ShellAPI.html">utils.ShellAPI</a></li>
                    <li><a href="utils.StringUtils.html">utils.StringUtils</a></li>
                    <li><a href="utils.TokenUtils.html">utils.TokenUtils</a></li>
                    <li><a href="utils.UpdateNotification.html">utils.UpdateNotification</a></li>
                    <li><a href="utils.UrlParams.html">utils.UrlParams</a></li>
                    <li><a href="utils.ViewUtils.html">utils.ViewUtils</a></li>
                    <li><a href="view.ViewCommandHandlers.html">view.ViewCommandHandlers</a></li>
                    <li><a href="widgets.bootstrap-alerts.html">widgets.bootstrap-alerts</a></li>
                    <li><a href="widgets.bootstrap-buttons.html">widgets.bootstrap-buttons</a></li>
                    <li><a href="widgets.bootstrap-dropdown.html">widgets.bootstrap-dropdown</a></li>
                    <li><a href="widgets.bootstrap-modal.html">widgets.bootstrap-modal</a></li>
                    <li><a href="widgets.bootstrap-popover.html">widgets.bootstrap-popover</a></li>
                    <li><a href="widgets.bootstrap-scrollspy.html">widgets.bootstrap-scrollspy</a></li>
                    <li><a href="widgets.bootstrap-tabs.html">widgets.bootstrap-tabs</a></li>
                    <li><a href="widgets.bootstrap-twipsy.html">widgets.bootstrap-twipsy</a></li>
                    <li><a href="widgets.Dialogs.html">widgets.Dialogs</a></li>
                    <li><a href="widgets.ModalBar.html">widgets.ModalBar</a></li>
                    <li><a href="widgets.PopUpManager.html">widgets.PopUpManager</a></li>
                    <li><a href="widgets.StatusBar.html">widgets.StatusBar</a></li>
                </ul>
            </div>
        </div>
        <div class="span9">
            <section>
                <div id="description">
                    <p>DOMAgent constructs and maintains a tree of {DOMNode}s that represents the<br />rendered DOM tree in the remote browser. Nodes can be accessed by id or<br />location (source offset). To update the DOM tree in response to a change of<br />the source document (replace [from,to] with text) call<br /><code>applyChange(from, to, text)</code>.</p>

<p>The DOMAgent triggers <code>getDocument</code> once it has loaded<br />the document.</p>
                </div>
            </section>

            <section id="dependencies">
                <h3>Dependencies</h3>
                <ul class="nav nav-list">
                    <li><a href="LiveDevelopment.Agents&#x2F;DOMHelpers.html">LiveDevelopment.Agents&#x2F;DOMHelpers</a></li>
                    <li><a href="LiveDevelopment.Agents&#x2F;DOMNode.html">LiveDevelopment.Agents&#x2F;DOMNode</a></li>
                    <li><a href="LiveDevelopment.Agents&#x2F;EditAgent.html">LiveDevelopment.Agents&#x2F;EditAgent</a></li>
                    <li><a href="LiveDevelopment.Agents&#x2F;RemoteAgent.html">LiveDevelopment.Agents&#x2F;RemoteAgent</a></li>
                    <li><a href="LiveDevelopment.Inspector&#x2F;Inspector.html">LiveDevelopment.Inspector&#x2F;Inspector</a></li>
                </ul>
            </section>

            <section id="variables">
                <h3>Variables <label class="checkbox">
                    <input class="toggle-public" type="checkbox"> Show Private Members
                </label></h3>
                <!--<ul>-->
                <!--</ul>-->
            </section>

            <section id="functions">
                <h3>Functions <label class="checkbox">
                    <input class="toggle-public" type="checkbox"> Show Private Members
                </label></h3>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_cleanURL</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>URL</dt>
                            <dd>(<em>string</em>) - </dd>
                    </dl>
                    <p>Eliminate the query string from a URL</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _cleanURL(url) {
        var index = url.search(&#x2F;[#\?]&#x2F;);
        if (index &gt;= 0) {
            url = url.substr(0, index);
        }
        return url;
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_mapDocumentToSource</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>source</dt>
                            <dd>(<em>string</em>) - </dd>
                    </dl>
                    <p>Map the DOM document to the source text</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _mapDocumentToSource(source) {
        var node = exports.root;
        DOMHelpers.eachNode(source, function each(payload) {
            if (!node) {
                return true;
            }
            if (payload.closing) {
                var parent = node.findParentForNextNodeMatchingPayload(payload);
                if (!parent) {
                    return console.warn(&quot;Matching Parent not at &quot; + payload.sourceOffset + &quot; (&quot; + payload.nodeName + &quot;)&quot;);
                }
                parent.closeLocation = payload.sourceOffset;
                parent.closeLength = payload.sourceLength;
            } else {
                var next = node.findNextNodeMatchingPayload(payload);
                if (!next) {
                    return console.warn(&quot;Skipping Source Node at &quot; + payload.sourceOffset);
                }
                node = next;
                node.location = payload.sourceOffset;
                node.length = payload.sourceLength;
                if (payload.closed) {
                    node.closed = payload.closed;
                }
            }
        });
    }</code></pre>
                </div>
                <div class="member private">
                    <span class="pull-right scope">
                        Private
                        
                    </span>
                    <h4>_onFinishedLoadingDOM</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Load the source document and match it with the DOM tree</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function _onFinishedLoadingDOM() {
        var request = new XMLHttpRequest();
        request.open(&quot;GET&quot;, exports.url);
        request.onload = function onLoad() {
            if ((request.status &gt;= 200 &amp;&amp; request.status &lt; 300) ||
                    request.status === 304 || request.status === 0) {
                _mapDocumentToSource(request.response);
                _load.resolve();
            } else {
                var msg = &quot;Received status &quot; + request.status + &quot; from XMLHttpRequest while attempting to load source file at &quot; + exports.url;
                _load.reject(msg, { message: msg });
            }
        };
        request.onerror = function onError() {
            var msg = &quot;Could not load source file at &quot; + exports.url;
            _load.reject(msg, { message: msg });
        };
        request.send(null);
    }

    &#x2F;&#x2F; WebInspector Event: Page.loadEventFired
    function _onLoadEventFired(event, res) {
        &#x2F;&#x2F; res = {timestamp}
        Inspector.DOM.getDocument(function onGetDocument(res) {
            $exports.triggerHandler(&quot;getDocument&quot;, res);
            &#x2F;&#x2F; res = {root}
            _idToNode = {};
            _pendingRequests = 0;
            exports.root = new DOMNode(exports, res.root);
        });
    }

    &#x2F;&#x2F; WebInspector Event: Page.frameNavigated
    function _onFrameNavigated(event, res) {
        &#x2F;&#x2F; res = {frame}
        exports.url = _cleanURL(res.frame.url);
    }

     &#x2F;&#x2F; WebInspector Event: DOM.documentUpdated
    function _onDocumentUpdated(event, res) {
        &#x2F;&#x2F; res = {}
    }

    &#x2F;&#x2F; WebInspector Event: DOM.setChildNodes
    function _onSetChildNodes(event, res) {
        &#x2F;&#x2F; res = {parentId, nodes}
        var node = nodeWithId(res.parentId);
        node.setChildrenPayload(res.nodes);
        if (_pendingRequests &gt; 0 &amp;&amp; --_pendingRequests === 0) {
            _onFinishedLoadingDOM();
        }
    }

    &#x2F;&#x2F; WebInspector Event: DOM.childNodeCountUpdated
    function _onChildNodeCountUpdated(event, res) {
        &#x2F;&#x2F; res = {nodeId, childNodeCount}
        if (res.nodeId &gt; 0) {
            Inspector.DOM.requestChildNodes(res.nodeId);
        }
    }

    &#x2F;&#x2F; WebInspector Event: DOM.childNodeInserted
    function _onChildNodeInserted(event, res) {
        &#x2F;&#x2F; res = {parentNodeId, previousNodeId, node}
        if (res.node.nodeId &gt; 0) {
            var parent = nodeWithId(res.parentNodeId);
            var previousNode = nodeWithId(res.previousNodeId);
            var node = new DOMNode(exports, res.node);
            parent.insertChildAfter(node, previousNode);
        }
    }

    &#x2F;&#x2F; WebInspector Event: DOM.childNodeRemoved
    function _onChildNodeRemoved(event, res) {
        &#x2F;&#x2F; res = {parentNodeId, nodeId}
        if (res.nodeId &gt; 0) {
            var node = nodeWithId(res.nodeId);
            node.remove();
        }
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>addNode</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>node</dt>
                            <dd>(<em>DOMNode</em>) - </dd>
                    </dl>
                    <p>Update the node index</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function addNode(node) {
        if (node.nodeId) {
            _idToNode[node.nodeId] = node;
        }
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>allNodesAtLocation</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt></dt>
                            <dd>(<em>location</em>) - </dd>
                    </dl>
                    <p>Get the element node that encloses the given location</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function allNodesAtLocation(location) {
        var nodes = [];
        exports.root.each(function each(n) {
            if (n.type === DOMNode.TYPE_ELEMENT &amp;&amp; n.isAtLocation(location)) {
                nodes.push(n);
            }
        });
        return nodes;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>applyChange</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>start</dt>
                            <dd>(<em>integer</em>) - offset of the change</dd>
                            <dt>end</dt>
                            <dd>(<em>integer</em>) - offset of the change</dd>
                            <dt>change</dt>
                            <dd>(<em>string</em>) - text</dd>
                    </dl>
                    <p>Apply a change</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function applyChange(from, to, text) {
        var delta = from - to + text.length;
        var node = nodeAtLocation(from);

        &#x2F;&#x2F; insert a text node
        if (!node) {
            if (!(&#x2F;^\s*$&#x2F;).test(text)) {
                console.warn(&quot;Inserting nodes not supported.&quot;);
                node = nodeBeforeLocation(from);
            }
        } else if (node.type === 3) {
            &#x2F;&#x2F; update a text node
            var value = node.value.substr(0, from - node.location);
            value += text;
            value += node.value.substr(to - node.location);
            node.value = value;
            if (!EditAgent.isEditing) {
                &#x2F;&#x2F; only update the DOM if the change was not caused by the edit agent
                Inspector.DOM.setNodeValue(node.nodeId, node.value);
            }
        } else {
            console.warn(&quot;Changing non-text nodes not supported.&quot;);
        }

        &#x2F;&#x2F; adjust the location of all nodes after the change
        if (node) {
            node.length += delta;
            exports.root.each(function each(n) {
                if (n.location &gt; node.location) {
                    n.location += delta;
                }
            });
        }
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>load</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Initialize the agent</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function load() {
        _load = new $.Deferred();
        $(Inspector.Page)
            .on(&quot;frameNavigated.DOMAgent&quot;, _onFrameNavigated)
            .on(&quot;loadEventFired.DOMAgent&quot;, _onLoadEventFired);
        $(Inspector.DOM)
            .on(&quot;documentUpdated.DOMAgent&quot;, _onDocumentUpdated)
            .on(&quot;setChildNodes.DOMAgent&quot;, _onSetChildNodes)
            .on(&quot;childNodeCountUpdated.DOMAgent&quot;, _onChildNodeCountUpdated)
            .on(&quot;childNodeInserted.DOMAgent&quot;, _onChildNodeInserted)
            .on(&quot;childNodeRemoved.DOMAgent&quot;, _onChildNodeRemoved);
        Inspector.Page.enable();
        return _load.promise();
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>nodeAtLocation</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt></dt>
                            <dd>(<em>location</em>) - </dd>
                    </dl>
                    <p>Get the node at the given location</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function nodeAtLocation(location) {
        return exports.root.find(function each(n) {
            return n.isAtLocation(location, false);
        });
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>nodeBeforeLocation</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>location</dt>
                            <dd>(<em>integer</em>) - </dd>
                    </dl>
                    <p>Get the last node before the given location</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function nodeBeforeLocation(location) {
        var node;
        exports.root.each(function each(n) {
            if (!n.location || location &lt; n.location) {
                return true;
            }
            if (!node || node.location &lt; n.location) {
                node = n;
            }
        });
        return node;
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>nodeWithId</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>node</dt>
                            <dd>(<em>DOMNode</em>) - </dd>
                    </dl>
                    <p>Find the node for the given id</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function nodeWithId(nodeId) {
        return _idToNode[nodeId];
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>removeNode</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>node</dt>
                            <dd>(<em>DOMNode</em>) - </dd>
                    </dl>
                    <p>Update the node index</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function removeNode(node) {
        if (node.nodeId) {
            delete _idToNode[node.nodeId];
        }
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>requestChildNodes</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>node</dt>
                            <dd>(<em>DOMNode</em>) - </dd>
                    </dl>
                    <p>Request the child nodes for a node</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function requestChildNodes(node) {
        if (_pendingRequests &gt;= 0) {
            _pendingRequests++;
        }
        Inspector.DOM.requestChildNodes(node.nodeId);
    }</code></pre>
                </div>
                <div class="member">
                    <span class="pull-right scope">
                        
                        
                    </span>
                    <h4>resolveNode</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                            <dt>node</dt>
                            <dd>(<em>DOMNode</em>) - </dd>
                    </dl>
                    <p>Resolve a node</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function resolveNode(node, callback) {
        console.assert(node.nodeId, &quot;Attempted to resolve node without id&quot;);
        Inspector.DOM.resolveNode(node.nodeId, callback);
    }</code></pre>
                </div>
                <div class="member public">
                    <span class="pull-right scope">
                        
                        Public API
                    </span>
                    <h4>unload</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Clean up</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function unload() {
        $(Inspector.Page).off(&quot;.DOMAgent&quot;);
        $(Inspector.DOM).off(&quot;.DOMAgent&quot;);
    }

    &#x2F;&#x2F; Export private functions
    exports.nodeBeforeLocation = nodeBeforeLocation;
    exports.allNodesAtLocation = allNodesAtLocation;
    exports.nodeAtLocation = nodeAtLocation;
    exports.nodeWithId = nodeWithId;
    exports.removeNode = removeNode;
    exports.addNode = addNode;
    exports.requestChildNodes = requestChildNodes;
    exports.applyChange = applyChange;
    exports.load = load;
    exports.unload = unload;
});</code></pre>
                </div>
            </section>
        </div>
    </div>
</div>
</body>
</html>