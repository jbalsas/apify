<!DOCTYPE html>
<html lang="en">
<head>
    <title>LiveDevelopment.Agents.RemoteFunctions</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../assets/js/jquery-1.7.js"></script>
    <script type="text/javascript" src="../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../assets/js/main.js"></script>
</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="brand" href="./index.html">Brackets API</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a href="#dependencies">Dependencies</a></li>
                    <li><a href="#variables">Variables</a></li>
                    <li><a href="#functions">Functions</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span12">
            <div class="page-header">
                <h1>LiveDevelopment.Agents.RemoteFunctions</h1>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="span3">
            <div class="left-section">
                <ul class="nav nav-list">
                    <li class="nav-header">
                        <a href="#" id="toggle-other-modules"><i class="icon-folder-close"></i> Modules (109)</a>
                    </li>
                </ul>
                <ul id="other-module" class="nav nav-list">
                    <li><a href="brackets.html">brackets</a></li>
                    <li><a href="command.CommandManager.html">command.CommandManager</a></li>
                    <li><a href="command.Commands.html">command.Commands</a></li>
                    <li><a href="command.KeyBindingManager.html">command.KeyBindingManager</a></li>
                    <li><a href="command.Menus.html">command.Menus</a></li>
                    <li><a href="debug.DebugCommandHandlers.html">debug.DebugCommandHandlers</a></li>
                    <li><a href="document.ChangedDocumentTracker.html">document.ChangedDocumentTracker</a></li>
                    <li><a href="document.DocumentCommandHandlers.html">document.DocumentCommandHandlers</a></li>
                    <li><a href="document.DocumentManager.html">document.DocumentManager</a></li>
                    <li><a href="document.TextRange.html">document.TextRange</a></li>
                    <li><a href="editor.CodeHintList.html">editor.CodeHintList</a></li>
                    <li><a href="editor.CodeHintManager.html">editor.CodeHintManager</a></li>
                    <li><a href="editor.CSSInlineEditor.html">editor.CSSInlineEditor</a></li>
                    <li><a href="editor.Editor.html">editor.Editor</a></li>
                    <li><a href="editor.EditorCommandHandlers.html">editor.EditorCommandHandlers</a></li>
                    <li><a href="editor.EditorManager.html">editor.EditorManager</a></li>
                    <li><a href="editor.EditorUtils.html">editor.EditorUtils</a></li>
                    <li><a href="editor.InlineTextEditor.html">editor.InlineTextEditor</a></li>
                    <li><a href="editor.InlineWidget.html">editor.InlineWidget</a></li>
                    <li><a href="editor.MultiRangeInlineEditor.html">editor.MultiRangeInlineEditor</a></li>
                    <li><a href="file.FileUtils.html">file.FileUtils</a></li>
                    <li><a href="file.NativeFileError.html">file.NativeFileError</a></li>
                    <li><a href="file.NativeFileSystem.html">file.NativeFileSystem</a></li>
                    <li><a href="help.HelpCommandHandlers.html">help.HelpCommandHandlers</a></li>
                    <li><a href="language.CSSUtils.html">language.CSSUtils</a></li>
                    <li><a href="language.HTMLUtils.html">language.HTMLUtils</a></li>
                    <li><a href="language.JSLintUtils.html">language.JSLintUtils</a></li>
                    <li><a href="language.JSUtils.html">language.JSUtils</a></li>
                    <li><a href="LiveDevelopment.Agents.ConsoleAgent.html">LiveDevelopment.Agents.ConsoleAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.CSSAgent.html">LiveDevelopment.Agents.CSSAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMAgent.html">LiveDevelopment.Agents.DOMAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMHelpers.html">LiveDevelopment.Agents.DOMHelpers</a></li>
                    <li><a href="LiveDevelopment.Agents.DOMNode.html">LiveDevelopment.Agents.DOMNode</a></li>
                    <li><a href="LiveDevelopment.Agents.EditAgent.html">LiveDevelopment.Agents.EditAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.GotoAgent.html">LiveDevelopment.Agents.GotoAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.HighlightAgent.html">LiveDevelopment.Agents.HighlightAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.NetworkAgent.html">LiveDevelopment.Agents.NetworkAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.RemoteAgent.html">LiveDevelopment.Agents.RemoteAgent</a></li>
                    <li><a href="LiveDevelopment.Agents.RemoteFunctions.html">LiveDevelopment.Agents.RemoteFunctions</a></li>
                    <li><a href="LiveDevelopment.Agents.ScriptAgent.html">LiveDevelopment.Agents.ScriptAgent</a></li>
                    <li><a href="LiveDevelopment.Documents.CSSDocument.html">LiveDevelopment.Documents.CSSDocument</a></li>
                    <li><a href="LiveDevelopment.Documents.HTMLDocument.html">LiveDevelopment.Documents.HTMLDocument</a></li>
                    <li><a href="LiveDevelopment.Documents.JSDocument.html">LiveDevelopment.Documents.JSDocument</a></li>
                    <li><a href="LiveDevelopment.Inspector.Inspector.html">LiveDevelopment.Inspector.Inspector</a></li>
                    <li><a href="LiveDevelopment.LiveDevelopment.html">LiveDevelopment.LiveDevelopment</a></li>
                    <li><a href="LiveDevelopment.main.html">LiveDevelopment.main</a></li>
                    <li><a href="nls.de.strings.html">nls.de.strings</a></li>
                    <li><a href="nls.de.urls.html">nls.de.urls</a></li>
                    <li><a href="nls.es.strings.html">nls.es.strings</a></li>
                    <li><a href="nls.es.urls.html">nls.es.urls</a></li>
                    <li><a href="nls.fr.strings.html">nls.fr.strings</a></li>
                    <li><a href="nls.fr.urls.html">nls.fr.urls</a></li>
                    <li><a href="nls.it.strings.html">nls.it.strings</a></li>
                    <li><a href="nls.it.urls.html">nls.it.urls</a></li>
                    <li><a href="nls.ja.strings.html">nls.ja.strings</a></li>
                    <li><a href="nls.nb.strings.html">nls.nb.strings</a></li>
                    <li><a href="nls.pt-br.strings.html">nls.pt-br.strings</a></li>
                    <li><a href="nls.pt-br.urls.html">nls.pt-br.urls</a></li>
                    <li><a href="nls.root.strings.html">nls.root.strings</a></li>
                    <li><a href="nls.root.urls.html">nls.root.urls</a></li>
                    <li><a href="nls.ru.strings.html">nls.ru.strings</a></li>
                    <li><a href="nls.ru.urls.html">nls.ru.urls</a></li>
                    <li><a href="nls.strings.html">nls.strings</a></li>
                    <li><a href="nls.tr.strings.html">nls.tr.strings</a></li>
                    <li><a href="nls.urls.html">nls.urls</a></li>
                    <li><a href="preferences.PreferencesDialogs.html">preferences.PreferencesDialogs</a></li>
                    <li><a href="preferences.PreferencesManager.html">preferences.PreferencesManager</a></li>
                    <li><a href="preferences.PreferenceStorage.html">preferences.PreferenceStorage</a></li>
                    <li><a href="project.FileIndexManager.html">project.FileIndexManager</a></li>
                    <li><a href="project.FileSyncManager.html">project.FileSyncManager</a></li>
                    <li><a href="project.FileViewController.html">project.FileViewController</a></li>
                    <li><a href="project.ProjectManager.html">project.ProjectManager</a></li>
                    <li><a href="project.SidebarView.html">project.SidebarView</a></li>
                    <li><a href="project.WorkingSetSort.html">project.WorkingSetSort</a></li>
                    <li><a href="project.WorkingSetView.html">project.WorkingSetView</a></li>
                    <li><a href="search.FindInFiles.html">search.FindInFiles</a></li>
                    <li><a href="search.FindReplace.html">search.FindReplace</a></li>
                    <li><a href="search.QuickOpen.html">search.QuickOpen</a></li>
                    <li><a href="strings.html">strings</a></li>
                    <li><a href="utils.AppInit.html">utils.AppInit</a></li>
                    <li><a href="utils.Async.html">utils.Async</a></li>
                    <li><a href="utils.BuildInfoUtils.html">utils.BuildInfoUtils</a></li>
                    <li><a href="utils.CollectionUtils.html">utils.CollectionUtils</a></li>
                    <li><a href="utils.ExtensionLoader.html">utils.ExtensionLoader</a></li>
                    <li><a href="utils.ExtensionUtils.html">utils.ExtensionUtils</a></li>
                    <li><a href="utils.Global.html">utils.Global</a></li>
                    <li><a href="utils.KeyEvent.html">utils.KeyEvent</a></li>
                    <li><a href="utils.NativeApp.html">utils.NativeApp</a></li>
                    <li><a href="utils.PerfUtils.html">utils.PerfUtils</a></li>
                    <li><a href="utils.Resizer.html">utils.Resizer</a></li>
                    <li><a href="utils.ShellAPI.html">utils.ShellAPI</a></li>
                    <li><a href="utils.StringUtils.html">utils.StringUtils</a></li>
                    <li><a href="utils.TokenUtils.html">utils.TokenUtils</a></li>
                    <li><a href="utils.UpdateNotification.html">utils.UpdateNotification</a></li>
                    <li><a href="utils.UrlParams.html">utils.UrlParams</a></li>
                    <li><a href="utils.ViewUtils.html">utils.ViewUtils</a></li>
                    <li><a href="view.ViewCommandHandlers.html">view.ViewCommandHandlers</a></li>
                    <li><a href="widgets.bootstrap-alerts.html">widgets.bootstrap-alerts</a></li>
                    <li><a href="widgets.bootstrap-buttons.html">widgets.bootstrap-buttons</a></li>
                    <li><a href="widgets.bootstrap-dropdown.html">widgets.bootstrap-dropdown</a></li>
                    <li><a href="widgets.bootstrap-modal.html">widgets.bootstrap-modal</a></li>
                    <li><a href="widgets.bootstrap-popover.html">widgets.bootstrap-popover</a></li>
                    <li><a href="widgets.bootstrap-scrollspy.html">widgets.bootstrap-scrollspy</a></li>
                    <li><a href="widgets.bootstrap-tabs.html">widgets.bootstrap-tabs</a></li>
                    <li><a href="widgets.bootstrap-twipsy.html">widgets.bootstrap-twipsy</a></li>
                    <li><a href="widgets.Dialogs.html">widgets.Dialogs</a></li>
                    <li><a href="widgets.ModalBar.html">widgets.ModalBar</a></li>
                    <li><a href="widgets.PopUpManager.html">widgets.PopUpManager</a></li>
                    <li><a href="widgets.StatusBar.html">widgets.StatusBar</a></li>
                </ul>
            </div>
        </div>
        <div class="span9">
            <section>
                <div id="description">
                    
                </div>
            </section>

            <section id="dependencies">
                <h3>Dependencies</h3>
                <ul class="nav nav-list">
                </ul>
            </section>

            <section id="variables">
                <h3>Variables <label class="checkbox">
                    <input class="toggle-public" type="checkbox"> Show Private Members
                </label></h3>
                <!--<ul>-->
                <!--</ul>-->
            </section>

            <section id="functions">
                <h3>Functions <label class="checkbox">
                    <input class="toggle-public" type="checkbox"> Show Private Members
                </label></h3>
                <div class="member">
                    <span class="pull-right scope">
                        
                        
                    </span>
                    <h4>RemoteFunctions</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>RemoteFunctions define the functions to be executed in the browser. This<br />modules should define a single function that returns an object of all<br />exported functions.</p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function RemoteFunctions(experimental) {
    &quot;use strict&quot;;

    var HIGHLIGHT_CLASSNAME = &quot;__brackets-ld-highlight&quot;;
    
    &#x2F;&#x2F; determine the color for a type
    function _typeColor(type, highlight) {
        switch (type) {
        case &quot;html&quot;:
            return highlight ? &quot;#eec&quot; : &quot;#ffe&quot;;
        case &quot;css&quot;:
            return highlight ? &quot;#cee&quot; : &quot;#eff&quot;;
        case &quot;js&quot;:
            return highlight ? &quot;#ccf&quot; : &quot;#eef&quot;;
        default:
            return highlight ? &quot;#ddd&quot; : &quot;#eee&quot;;
        }
    }

    &#x2F;&#x2F; compute the screen offset of an element
    function _screenOffset(element, key) {
        var bounds = element.getBoundingClientRect();
        if (key === &quot;offsetLeft&quot;) {
            return bounds.left + window.pageXOffset;
        } else {
            return bounds.top + window.pageYOffset;
        }
    }

    &#x2F;&#x2F; set an event on a element
    function _trigger(element, name, value, autoRemove) {
        var key = &quot;data-ld-&quot; + name;
        if (value !== undefined &amp;&amp; value !== null) {
            element.setAttribute(key, value);
            if (autoRemove) {
                window.setTimeout(element.removeAttribute.bind(element, key));
            }
        } else {
            element.removeAttribute(key);
        }
    }

    &#x2F;&#x2F; construct the info menu
    function Menu(element) {
        this.element = element;
        _trigger(this.element, &quot;showgoto&quot;, 1, true);
        window.setTimeout(window.remoteShowGoto);
        this.remove = this.remove.bind(this);
    }

    Menu.prototype = {
        onClick: function (url, event) {
            event.preventDefault();
            _trigger(this.element, &quot;goto&quot;, url, true);
            this.remove();
        },

        createBody: function () {
            if (this.body) {
                return;
            }

            &#x2F;&#x2F; compute the position on screen
            var x = _screenOffset(this.element, &quot;offsetLeft&quot;);
            var y = _screenOffset(this.element, &quot;offsetTop&quot;) + this.element.offsetHeight;

            &#x2F;&#x2F; create the container
            this.body = document.createElement(&quot;div&quot;);
            this.body.style.setProperty(&quot;z-index&quot;, 2147483647);
            this.body.style.setProperty(&quot;position&quot;, &quot;absolute&quot;);
            this.body.style.setProperty(&quot;left&quot;, x + &quot;px&quot;);
            this.body.style.setProperty(&quot;top&quot;, y + &quot;px&quot;);
            this.body.style.setProperty(&quot;font-size&quot;, &quot;11pt&quot;);

            &#x2F;&#x2F; draw the background
            this.body.style.setProperty(&quot;background&quot;, &quot;#fff&quot;);
            this.body.style.setProperty(&quot;border&quot;, &quot;1px solid #888&quot;);
            this.body.style.setProperty(&quot;-webkit-box-shadow&quot;, &quot;2px 2px 6px 0px #ccc&quot;);
            this.body.style.setProperty(&quot;border-radius&quot;, &quot;6px&quot;);
            this.body.style.setProperty(&quot;padding&quot;, &quot;6px&quot;);
        },

        addItem: function (target) {
            var item = document.createElement(&quot;div&quot;);
            item.style.setProperty(&quot;padding&quot;, &quot;2px 6px&quot;);
            if (this.body.childNodes.length &gt; 0) {
                item.style.setProperty(&quot;border-top&quot;, &quot;1px solid #ccc&quot;);
            }
            item.style.setProperty(&quot;cursor&quot;, &quot;pointer&quot;);
            item.style.setProperty(&quot;background&quot;, _typeColor(target.type));
            item.innerHTML = target.name;
            item.addEventListener(&quot;click&quot;, this.onClick.bind(this, target.url));

            if (target.file) {
                var file = document.createElement(&quot;i&quot;);
                file.style.setProperty(&quot;float&quot;, &quot;right&quot;);
                file.style.setProperty(&quot;margin-left&quot;, &quot;12px&quot;);
                file.innerHTML = &quot; &quot; + target.file;
                item.appendChild(file);
            }
            this.body.appendChild(item);
        },

        show: function () {
            if (!this.body) {
                this.body = this.createBody();
            }
            if (!this.body.parentNode) {
                document.body.appendChild(this.body);
            }
            document.addEventListener(&quot;click&quot;, this.remove);
        },

        remove: function () {
            if (this.body &amp;&amp; this.body.parentNode) {
                document.body.removeChild(this.body);
            }
            document.removeEventListener(&quot;click&quot;, this.remove);
        }

    };

    function Editor(element) {
        this.onBlur = this.onBlur.bind(this);
        this.onKeyPress = this.onKeyPress.bind(this);

        this.element = element;
        this.element.setAttribute(&quot;contenteditable&quot;, &quot;true&quot;);
        this.element.focus();
        this.element.addEventListener(&quot;blur&quot;, this.onBlur);
        this.element.addEventListener(&quot;keypress&quot;, this.onKeyPress);

        this.revertText = this.element.innerHTML;

        _trigger(this.element, &quot;edit&quot;, 1);
    }

    Editor.prototype = {
        onBlur: function (event) {
            this.element.removeAttribute(&quot;contenteditable&quot;);
            this.element.removeEventListener(&quot;blur&quot;, this.onBlur);
            this.element.removeEventListener(&quot;keypress&quot;, this.onKeyPress);
            _trigger(this.element, &quot;edit&quot;, 0, true);
        },

        onKeyPress: function (event) {
            switch (event.which) {
            case 13: &#x2F;&#x2F; return
                this.element.blur();
                break;
            case 27: &#x2F;&#x2F; esc
                this.element.innerHTML = this.revertText;
                this.element.blur();
                break;
            }
        }
    };

    function Highlight(color, trigger) {
        this.color = color;
        this.trigger = !!trigger;
        this.elements = [];
        this.selector = &quot;&quot;;
    }

    Highlight.prototype = {
        _elementExists: function (element) {
            var i;
            for (i in this.elements) {
                if (this.elements[i] === element) {
                    return true;
                }
            }
            return false;
        },

        _makeHighlightDiv: function (element, doAnimation) {
            var elementBounds = element.getBoundingClientRect(),
                highlight = window.document.createElement(&quot;div&quot;),
                styles = window.getComputedStyle(element);
                
            highlight.className = HIGHLIGHT_CLASSNAME;
            
            var stylesToSet = {
                &quot;left&quot;: _screenOffset(element, &quot;offsetLeft&quot;) + &quot;px&quot;,
                &quot;top&quot;: _screenOffset(element, &quot;offsetTop&quot;) + &quot;px&quot;,
                &quot;width&quot;: (elementBounds.width - 2) + &quot;px&quot;,
                &quot;height&quot;: (elementBounds.height - 2) + &quot;px&quot;,
                &quot;z-index&quot;: 2000000,
                &quot;position&quot;: &quot;absolute&quot;,
                &quot;pointer-events&quot;: &quot;none&quot;,
                &quot;border-top-left-radius&quot;: styles.borderTopLeftRadius,
                &quot;border-top-right-radius&quot;: styles.borderTopRightRadius,
                &quot;border-bottom-left-radius&quot;: styles.borderBottomLeftRadius,
                &quot;border-bottom-right-radius&quot;: styles.borderBottomRightRadius,
                &quot;border-style&quot;: &quot;solid&quot;,
                &quot;border-width&quot;: &quot;1px&quot;,
                &quot;border-color&quot;: &quot;rgb(94,167,255)&quot;
            };
            
            var animateStartValues = {
                &quot;opacity&quot;: 0,
                &quot;background&quot;: &quot;rgba(94,167,255, 0.5)&quot;,
                &quot;box-shadow&quot;: &quot;0 0 6px 1px rgba(94,167,255, 0.6), inset 0 0 4px 1px rgba(255,255,255,1)&quot;
            };
            
            var animateEndValues = {
                &quot;opacity&quot;: 1,
                &quot;background&quot;: &quot;rgba(94,167,255, 0.1)&quot;,
                &quot;box-shadow&quot;: &quot;0 0 1px 0 rgba(94,167,255, 0), inset 0 0 4px 1px rgba(255,255,255,0.8)&quot;
            };
            
            var transitionValues = {
                &quot;-webkit-transition-property&quot;: &quot;opacity, box-shadow, background&quot;,
                &quot;-webkit-transition-duration&quot;: &quot;0.3s, 0.4s, 0.4s&quot;,
                &quot;transition-property&quot;: &quot;opacity, box-shadow, background&quot;,
                &quot;transition-duration&quot;: &quot;0.3s, 0.4s, 0.4s&quot;
            };
            
            function _setStyleValues(styleValues, obj) {
                var prop;
                
                for (prop in styleValues) {
                    obj.setProperty(prop, styleValues[prop]);
                }
            }

            _setStyleValues(stylesToSet, highlight.style);
            _setStyleValues(
                doAnimation ? animateStartValues : animateEndValues,
                highlight.style
            );
            
            
            if (doAnimation) {
                _setStyleValues(transitionValues, highlight.style);
                
                window.setTimeout(function () {
                    _setStyleValues(animateEndValues, highlight.style);
                }, 0);
            }
        
            window.document.body.appendChild(highlight);
        },
        
        add: function (element, doAnimation) {
            if (this._elementExists(element) || element === document) {
                return;
            }
            if (this.trigger) {
                _trigger(element, &quot;highlight&quot;, 1);
            }
            this.elements.push(element);
            
            this._makeHighlightDiv(element, doAnimation);
        },

        clear: function () {
            var i, highlights = window.document.querySelectorAll(&quot;.&quot; + HIGHLIGHT_CLASSNAME),
                body = window.document.body;
        
            for (i = 0; i &lt; highlights.length; i++) {
                body.removeChild(highlights[i]);
            }
            
            this.elements = [];
        },
        
        redraw: function () {
            var i, highlighted;
            
            &#x2F;&#x2F; When redrawing a selector-based highlight, run a new selector
            &#x2F;&#x2F; query to ensure we have the latest set of elements to highlight.
            if (this.selector) {
                highlighted = window.document.querySelectorAll(this.selector);
            } else {
                highlighted = this.elements.slice(0);
            }
            
            this.clear();
            for (i = 0; i &lt; highlighted.length; i++) {
                this.add(highlighted[i], false);
            }
        }
    };

    var _currentEditor;
    function _toggleEditor(element) {
        _currentEditor = new Editor(element);
    }

    var _currentMenu;
    function _toggleMenu(element) {
        if (_currentMenu) {
            _currentMenu.remove();
        }
        _currentMenu = new Menu(element);
    }

    var _localHighlight;
    var _remoteHighlight;
    var _setup = false;</code></pre>
                </div>
                <div class="member">
                    <span class="pull-right scope">
                        
                        
                    </span>
                    <h4>onMouseOver</h4>
                    <!--<strong>Params:</strong>-->
                    <dl>
                    </dl>
                    <p>Event Handlers <strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong></p>
                    <button class="btn btn-small show-code">Show code</button>
                    <pre class="code"><code>function onMouseOver(event) {
        if (!event.metaKey) {
            return;
        }
        _localHighlight.add(event.target, true);
    }

    function onMouseOut(event) {
        if (!event.metaKey) {
            return;
        }
        _localHighlight.clear();
    }

    function onMouseMove(event) {
        onMouseOver(event);
        document.removeEventListener(&quot;mousemove&quot;, onMouseMove);
    }

    function onClick(event) {
        if (!event.metaKey) {
            return;
        }
        event.preventDefault();
        event.stopPropagation();
        if (event.altKey) {
            _toggleEditor(event.target);
        } else {
            _toggleMenu(event.target);
        }
    }

    function onKeyUp(event) {
        if (_setup &amp;&amp; !event.metaKey) {
            document.removeEventListener(&quot;keyup&quot;, onKeyUp);
            document.removeEventListener(&quot;mouseover&quot;, onMouseOver);
            document.removeEventListener(&quot;mouseout&quot;, onMouseOut);
            document.removeEventListener(&quot;mousemove&quot;, onMouseMove);
            document.removeEventListener(&quot;click&quot;, onClick);
            _localHighlight.clear();
            _localHighlight = undefined;
            _setup = false;
        }
    }

    function onKeyDown(event) {
        if (!_setup &amp;&amp; event.metaKey) {
            document.addEventListener(&quot;keyup&quot;, onKeyUp);
            document.addEventListener(&quot;mouseover&quot;, onMouseOver);
            document.addEventListener(&quot;mouseout&quot;, onMouseOut);
            document.addEventListener(&quot;mousemove&quot;, onMouseMove);
            document.addEventListener(&quot;click&quot;, onClick);
            _localHighlight = new Highlight(&quot;#ecc&quot;, true);
            _setup = true;
        }
    }</code></pre>
                </div>
            </section>
        </div>
    </div>
</div>
</body>
</html>